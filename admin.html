<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>Admin - R√°dio Louro</title>
    
    <link rel="stylesheet" href="./variables.css">
    <link rel="stylesheet" href="./admin.css">
</head>
<body>
    <div class="admin-container">
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <div class="admin-logo-icon">üõí</div>
                <h1>Admin Panel</h1>
                <p>R√°dio Louro</p>
            </div>
            
            <nav class="admin-nav">
                <a class="nav-item active" data-section="dashboard" href="#dash">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a class="nav-item" data-section="upload" href="#upload">
                    <span class="nav-icon">üì§</span>
                    <span>Upload</span>
                </a>
                <a class="nav-item" data-section="files" href="#files">
                    <span class="nav-icon">üìÅ</span>
                    <span>Arquivos</span>
                </a>
                <a class="nav-item" data-section="config" href="#config">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Config</span>
                </a>
            </nav>
            
            <div class="radio-status">
                <h3>Status</h3>
                <div class="status-indicator">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="statusText">...</span>
                </div>
                <button class="btn-admin btn-secondary-admin" id="toggleTransmission" style="width:100%">
                    <span id="toggleBtnText">Iniciar</span>
                </button>
            </div>
            
            <div style="margin-top:auto;padding-top:2rem">
                <a href="./index.html" class="btn-admin btn-secondary-admin" style="width:100%;justify-content:center">‚Üê Voltar</a>
            </div>
        </aside>
        
        <main class="admin-content">
            <section id="dashboard-section" class="content-section active">
                <div class="content-header">
                    <h2 class="content-title">Dashboard</h2>
                    <button class="btn-admin btn-primary-admin" id="refreshStats">üîÑ</button>
                </div>
                
                <div class="cards-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="totalMusicas">0</div>
                                <div class="stat-label">M√∫sicas</div>
                            </div>
                            <div class="stat-icon">üéµ</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="totalVinhetas">0</div>
                                <div class="stat-label">Vinhetas</div>
                            </div>
                            <div class="stat-icon">üìª</div>
                        </div>
                    </div>
                </div>
                
                <div class="upload-section">
                    <h3 class="section-title">üéµ Tocando Agora</h3>
                    <div id="nowPlayingInfo"><p>Aguardando...</p></div>
                </div>
            </section>
            
            <section id="upload-section" class="content-section">
                <div class="content-header">
                    <h2 class="content-title">Upload</h2>
                </div>
                
                <div class="upload-section">
                    <div class="upload-grid">
                        <div class="upload-card">
                            <div class="upload-card-icon">üéµ</div>
                            <h4 class="upload-card-title">M√∫sicas</h4>
                            
                            <div class="metadata-inputs">
                                <div class="input-group">
                                    <label class="input-label" for="musicCategoria">Categoria</label>
                                    <select class="select-input" id="musicCategoria">
                                        <option value="geral">Geral</option>
                                        <option value="natal">Natal</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label class="input-label" for="musicGenero">G√™nero</label>
                                    <select class="select-input" id="musicGenero">
                                        <option value="pop">Pop</option>
                                        <option value="rock">Rock</option>
                                    </select>
                                </div>
                            </div>
                            
                            <label for="musicasInput" class="input-label">Arquivos</label>
                            <input type="file" class="file-input" id="musicasInput" accept="audio/*" multiple>
                            <button class="btn-admin btn-primary-admin" onclick="adminController.uploadFiles('musicas')" style="width:100%">
                                üì§ Enviar
                            </button>
                        </div>
                    </div>
                    
                    <div id="uploadProgress" class="upload-progress" style="display:none;margin-top:2rem">
                        <div class="progress-info">
                            <span id="uploadStatus">Enviando...</span>
                            <span id="uploadPercent">0%</span>
                        </div>
                        <div class="progress-bar-admin">
                            <div class="progress-fill-admin" id="uploadProgressFill"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="files-section" class="content-section">
                <div class="content-header">
                    <h2 class="content-title">Arquivos</h2>
                    <button class="btn-admin btn-secondary-admin" id="refreshFiles">üîÑ</button>
                </div>
                <div class="files-section">
                    <div id="listMusicas"><p>Carregando...</p></div>
                </div>
            </section>
            
            <section id="config-section" class="content-section">
                <div class="content-header">
                    <h2 class="content-title">Configura√ß√µes</h2>
                    <button class="btn-admin btn-primary-admin" id="saveConfig">üíæ Salvar</button>
                </div>
                <div class="upload-section">
                    <div class="input-group">
                        <label class="input-label" for="configIntervalo">Intervalo (min)</label>
                        <input type="number" class="text-input" id="configIntervalo" value="45">
                    </div>
                    <div class="input-group">
                        <label class="input-label" for="configAlbumAtivo">√Ålbum</label>
                        <select class="select-input" id="configAlbumAtivo">
                            <option value="geral">Geral</option>
                            <option value="natal">Natal</option>
                        </select>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <div id="toastContainer"></div>
    
    <script type="module" src="./config.js"></script>
    <script type="module" src="./supabase-service.js"></script>
    <script type="module" src="./cloudinary_service.js"></script>
    <script type="module" src="./radio-engine.js"></script>
    <script type="module" src="./admin.js"></script>
    
    <style>
        .content-section{display:none}
        .content-section.active{display:block}
        .upload-progress{background:#f5f5f5;padding:1.5rem;border-radius:0.75rem}
        .progress-info{display:flex;justify-content:space-between;margin-bottom:0.5rem;font-weight:600}
        .progress-bar-admin{height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden}
        .progress-fill-admin{height:100%;background:linear-gradient(135deg,#1a7a5e,#2ea57d);width:0%;transition:width 0.3s}
    </style>
</body>
</html>
