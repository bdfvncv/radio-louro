<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√°dio Supermercado do Louro</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#1b5e20,#2e7d32,#388e3c);min-height:100vh;display:flex;align-items:center;justify-content:center;color:#fff}
        .container{background:rgba(255,255,255,0.98);backdrop-filter:blur(20px);border-radius:25px;padding:40px;box-shadow:0 30px 60px rgba(0,0,0,0.3),0 0 0 1px rgba(255,255,255,0.2);max-width:420px;width:90%;text-align:center;animation:slideIn 0.8s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden}
        .container::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#1b5e20,#2e7d32,#43a047,#66bb6a);animation:shimmer 2s infinite}
        @keyframes slideIn{from{opacity:0;transform:translateY(50px) scale(0.9)}to{opacity:1;transform:translateY(0) scale(1)}}
        @keyframes shimmer{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
        @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
        @keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        .logo{font-size:2.2rem;font-weight:700;margin-bottom:8px;color:#1b5e20;text-shadow:0 2px 4px rgba(0,0,0,0.1);letter-spacing:-0.5px}
        .subtitle{color:#2e7d32;margin-bottom:30px;font-size:1rem;font-weight:500;opacity:0.9}
        .album-cover{width:180px;height:180px;border-radius:20px;margin:0 auto 25px;background:linear-gradient(135deg,#1b5e20,#2e7d32,#43a047);display:flex;align-items:center;justify-content:center;font-size:4rem;color:#fff;box-shadow:0 20px 40px rgba(27,94,32,0.3),inset 0 0 0 2px rgba(255,255,255,0.1);transition:all 0.4s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden}
        .album-cover::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent);transform:translateX(-100%);transition:transform 0.6s}
        .album-cover:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 25px 50px rgba(27,94,32,0.4),inset 0 0 0 2px rgba(255,255,255,0.2)}
        .album-cover:hover::before{transform:translateX(100%)}
        .album-cover.playing{animation:pulse 2s infinite}
        .track-info{margin:20px 0;min-height:60px}
        .track-title{font-size:1.2rem;font-weight:600;margin-bottom:8px;color:#1b5e20;line-height:1.3}
        .track-artist{color:#2e7d32;font-size:0.95rem;opacity:0.8;font-weight:500}
        .progress-container{margin:25px 0;position:relative}
        .progress-bar{width:100%;height:6px;background:rgba(27,94,32,0.15);border-radius:3px;overflow:hidden;position:relative}
        .progress-fill{height:100%;background:linear-gradient(90deg,#1b5e20,#2e7d32,#43a047);width:0%;transition:width 0.3s ease;border-radius:3px;position:relative}
        .progress-fill::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);animation:shimmer 1.5s infinite}
        .controls{display:flex;align-items:center;justify-content:center;gap:25px;margin:25px 0}
        .play-btn{width:70px;height:70px;border:none;border-radius:50%;background:linear-gradient(135deg,#1b5e20,#2e7d32);color:#fff;font-size:1.8rem;cursor:pointer;transition:all 0.3s cubic-bezier(0.25,0.46,0.45,0.94);box-shadow:0 10px 25px rgba(27,94,32,0.3),inset 0 0 0 2px rgba(255,255,255,0.1);position:relative;overflow:hidden}
        .play-btn::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at center,rgba(255,255,255,0.1),transparent);opacity:0;transition:opacity 0.3s}
        .play-btn:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 15px 35px rgba(27,94,32,0.4),inset 0 0 0 2px rgba(255,255,255,0.2)}
        .play-btn:hover::before{opacity:1}
        .play-btn:active{transform:translateY(-1px) scale(0.98)}
        .play-btn.playing{animation:pulse 1.5s infinite}
        .volume-control{display:flex;align-items:center;gap:12px;color:#2e7d32}
        .volume-icon{font-size:1.2rem;transition:transform 0.3s}
        .volume-control:hover .volume-icon{transform:scale(1.1)}
        .volume-slider{width:80px;height:6px;border-radius:3px;background:rgba(27,94,32,0.2);outline:none;cursor:pointer;transition:all 0.3s}
        .volume-slider::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:linear-gradient(135deg,#1b5e20,#2e7d32);cursor:pointer;box-shadow:0 2px 8px rgba(27,94,32,0.3);transition:all 0.3s}
        .volume-slider::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 4px 12px rgba(27,94,32,0.4)}
        .admin-toggle{position:absolute;top:20px;right:20px;background:rgba(255,255,255,0.9);border:2px solid #1b5e20;color:#1b5e20;padding:8px 12px;border-radius:20px;cursor:pointer;font-size:0.9rem;font-weight:600;transition:all 0.3s;backdrop-filter:blur(10px)}
        .admin-toggle:hover{background:#1b5e20;color:#fff;transform:scale(1.05)}
        .admin-panel{display:none;background:rgba(0,0,0,0.95);position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;overflow-y:auto;padding:20px;backdrop-filter:blur(10px)}
        .admin-content{background:rgba(255,255,255,0.98);color:#1b5e20;backdrop-filter:blur(20px);border-radius:20px;padding:30px;max-width:900px;margin:0 auto;box-shadow:0 20px 40px rgba(0,0,0,0.3)}
        .admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid rgba(27,94,32,0.1)}
        .admin-header h2{color:#1b5e20;font-size:1.8rem}
        .close-admin{background:#d32f2f;border:none;color:#fff;padding:10px 20px;border-radius:10px;cursor:pointer;font-size:1rem;transition:all 0.3s}
        .close-admin:hover{background:#b71c1c;transform:translateY(-2px)}
        .upload-section{background:rgba(27,94,32,0.08);border:2px solid rgba(27,94,32,0.15);border-radius:15px;padding:25px;margin-bottom:25px;transition:all 0.3s}
        .upload-section:hover{border-color:rgba(27,94,32,0.25);background:rgba(27,94,32,0.12)}
        .upload-section h3{margin-bottom:15px;color:#1b5e20;font-size:1.2rem}
        .file-input{width:100%;padding:15px;border:2px dashed rgba(27,94,32,0.3);border-radius:10px;background:rgba(27,94,32,0.05);color:#1b5e20;margin-bottom:15px;cursor:pointer;transition:all 0.3s;font-size:0.95rem}
        .file-input:hover{border-color:rgba(27,94,32,0.5);background:rgba(27,94,32,0.1)}
        .upload-btn{background:linear-gradient(135deg,#1b5e20,#2e7d32);border:none;color:#fff;padding:12px 25px;border-radius:10px;cursor:pointer;font-size:1rem;width:100%;transition:all 0.3s;font-weight:600}
        .upload-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(27,94,32,0.3)}
        .album-control{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-top:20px}
        .album-item{background:rgba(27,94,32,0.1);border:2px solid rgba(27,94,32,0.2);border-radius:12px;padding:15px;text-align:center;cursor:pointer;transition:all 0.3s;color:#1b5e20;font-weight:600}
        .album-item:hover{background:rgba(27,94,32,0.15);transform:translateY(-2px)}
        .album-item.active{background:linear-gradient(135deg,#1b5e20,#2e7d32);color:#fff;border-color:#1b5e20}
        .stats{background:rgba(27,94,32,0.08);border:2px solid rgba(27,94,32,0.15);border-radius:15px;padding:25px;margin-top:25px}
        .stats h3{color:#1b5e20;margin-bottom:15px;font-size:1.2rem}
        .stat-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(27,94,32,0.1);color:#2e7d32}
        .login-form{background:rgba(255,255,255,0.98);color:#1b5e20;border-radius:20px;padding:40px;margin:20px;max-width:400px;margin:0 auto;box-shadow:0 20px 40px rgba(0,0,0,0.3)}
        .login-form h2{text-align:center;margin-bottom:25px;color:#1b5e20}
        .login-input{width:100%;padding:15px;border:2px solid rgba(27,94,32,0.2);border-radius:10px;background:rgba(27,94,32,0.05);color:#1b5e20;font-size:1rem;margin-bottom:20px;transition:all 0.3s}
        .login-input:focus{outline:none;border-color:#2e7d32;background:rgba(27,94,32,0.1)}
        .login-input::placeholder{color:rgba(27,94,32,0.6)}
        .login-btn{width:100%;padding:15px;border:none;border-radius:10px;background:linear-gradient(135deg,#1b5e20,#2e7d32);color:#fff;font-size:1rem;cursor:pointer;font-weight:600;transition:all 0.3s}
        .login-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(27,94,32,0.3)}
        .file-list{max-height:200px;overflow-y:auto;background:rgba(27,94,32,0.05);border-radius:10px;padding:15px;margin-top:15px}
        .file-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid rgba(27,94,32,0.1);color:#2e7d32}
        .delete-btn{background:#d32f2f;border:none;color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:0.8rem;transition:all 0.3s}
        .delete-btn:hover{background:#b71c1c;transform:scale(1.05)}
        @media (max-width:768px){.container{padding:25px;margin:15px}.admin-content{padding:20px;margin:10px}.album-control{grid-template-columns:1fr 1fr}.logo{font-size:1.8rem}.album-cover{width:160px;height:160px}}
    </style>
</head>
<body>
    <button class="admin-toggle" onclick="toggleAdmin()">‚öôÔ∏è Admin</button>
    <div class="container">
        <div class="logo">üéµ R√°dio Supermercado</div>
        <div class="subtitle">do Louro</div>
        <div class="album-cover" id="albumCover">üéµ</div>
        <div class="track-info">
            <div class="track-title" id="trackTitle">Carregando...</div>
            <div class="track-artist" id="trackArtist">Prepare-se para uma experi√™ncia √∫nica</div>
        </div>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        <div class="controls">
            <button class="play-btn" id="playBtn" onclick="togglePlayPause()">‚ñ∂Ô∏è</button>
            <div class="volume-control">
                <span class="volume-icon">üîä</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>
        </div>
    </div>

    <div class="admin-panel" id="adminPanel">
        <div id="loginForm" class="login-form">
            <h2>üîê Acesso Administrativo</h2>
            <input type="password" class="login-input" id="adminPassword" placeholder="Digite a senha">
            <button class="login-btn" onclick="adminLogin()">Entrar</button>
        </div>
        <div id="adminContent" class="admin-content" style="display:none">
            <div class="admin-header">
                <h2>üõ†Ô∏è Painel Administrativo</h2>
                <button class="close-admin" onclick="closeAdmin()">‚úï Fechar</button>
            </div>
            <div class="upload-section">
                <h3>üéµ Upload de M√∫sicas</h3>
                <input type="file" class="file-input" id="musicUpload" accept=".mp3" multiple>
                <button class="upload-btn" onclick="uploadFiles('music')">Upload M√∫sicas</button>
                <div class="file-list" id="musicList"></div>
            </div>
            <div class="upload-section">
                <h3>üïê Upload Hora Certa</h3>
                <input type="file" class="file-input" id="timeUpload" accept=".mp3" multiple>
                <button class="upload-btn" onclick="uploadFiles('time')">Upload Hora Certa</button>
                <div class="file-list" id="timeList"></div>
            </div>
            <div class="upload-section">
                <h3>üì¢ Upload Avisos</h3>
                <input type="file" class="file-input" id="adUpload" accept=".mp3" multiple>
                <button class="upload-btn" onclick="uploadFiles('ads')">Upload Avisos</button>
                <div class="file-list" id="adsList"></div>
            </div>
            <div class="upload-section">
                <h3>üéä √Ålbuns Tem√°ticos</h3>
                <div class="album-control">
                    <div class="album-item" data-album="natal" onclick="setActiveAlbum('natal')">üéÑ Natal</div>
                    <div class="album-item" data-album="pascoa" onclick="setActiveAlbum('pascoa')">üê∞ P√°scoa</div>
                    <div class="album-item" data-album="saojoao" onclick="setActiveAlbum('saojoao')">üé™ S√£o Jo√£o</div>
                    <div class="album-item" data-album="none" onclick="setActiveAlbum('none')">‚ùå Desativar</div>
                </div>
                <input type="file" class="file-input" id="albumUpload" accept=".mp3" multiple style="margin-top:15px">
                <button class="upload-btn" onclick="uploadAlbumFiles()">Upload √Ålbum Ativo</button>
                <div class="file-list" id="albumList"></div>
            </div>
            <div class="stats">
                <h3>üìä Estat√≠sticas</h3>
                <div id="playStats"></div>
                <button class="upload-btn" onclick="resetStats()" style="margin-top:15px;background:linear-gradient(135deg,#d32f2f,#b71c1c)">üóëÔ∏è Reset</button>
            </div>
            <div class="upload-section">
                <h3>üíæ Backup</h3>
                <button class="upload-btn" onclick="exportConfig()" style="margin-bottom:15px">üì§ Exportar</button>
                <input type="file" id="importConfig" accept=".json" onchange="importConfig(event)" style="display:none">
                <button class="upload-btn" onclick="document.getElementById('importConfig').click()">üì• Importar</button>
            </div>
        </div>
    </div>
    <audio id="audioPlayer" preload="auto"></audio>

    <script>
        const CLOUDINARY_CONFIG={cloudName:'dygbrcrr6',uploadPreset:'radio_preset',apiKey:'your_api_key'};
        let currentPlaylist=[],currentIndex=0,isPlaying=false,musicCount=0,activeAlbum=localStorage.getItem('activeAlbum')||'none';
        let audioFiles={music:JSON.parse(localStorage.getItem('musicFiles')||'[]'),time:JSON.parse(localStorage.getItem('timeFiles')||'[]'),ads:JSON.parse(localStorage.getItem('adsFiles')||'[]'),albums:{natal:JSON.parse(localStorage.getItem('natalFiles')||'[]'),pascoa:JSON.parse(localStorage.getItem('pascoaFiles')||'[]'),saojoao:JSON.parse(localStorage.getItem('saojoaoFiles')||'[]')}};
        let playStats=JSON.parse(localStorage.getItem('playStats')||'{}');
        const audioPlayer=document.getElementById('audioPlayer'),playBtn=document.getElementById('playBtn'),volumeSlider=document.getElementById('volumeSlider'),trackTitle=document.getElementById('trackTitle'),trackArtist=document.getElementById('trackArtist'),albumCover=document.getElementById('albumCover'),progressFill=document.getElementById('progressFill');

        window.addEventListener('load',()=>{setupAudioPlayer();generatePlaylist();updateUI();updateAlbumDisplay();updateFileList();updatePlayStats()});

        function setupAudioPlayer(){
            audioPlayer.volume=volumeSlider.value/100;
            volumeSlider.addEventListener('input',e=>audioPlayer.volume=e.target.value/100);
            audioPlayer.addEventListener('loadedmetadata',updateUI);
            audioPlayer.addEventListener('timeupdate',()=>{if(audioPlayer.duration)progressFill.style.width=(audioPlayer.currentTime/audioPlayer.duration)*100+'%'});
            audioPlayer.addEventListener('ended',nextTrack);
            audioPlayer.addEventListener('error',e=>{console.log('Erro:',e);nextTrack()});
            audioPlayer.addEventListener('play',()=>{playBtn.classList.add('playing');albumCover.classList.add('playing')});
            audioPlayer.addEventListener('pause',()=>{playBtn.classList.remove('playing');albumCover.classList.remove('playing')});
        }

        function generatePlaylist(){
            currentPlaylist=[];
            const musicFiles=audioFiles.music,albumFiles=activeAlbum!=='none'?audioFiles.albums[activeAlbum]:[],allMusic=[...musicFiles,...albumFiles];
            if(allMusic.length===0){currentPlaylist=[{type:'music',title:'M√∫sica de Exemplo',artist:'Artista Exemplo',url:'https://res.cloudinary.com/dygbrcrr6/video/upload/v1749781508/Leonardo-Nao-Aprendi-A-Dizer-Adeus_xrmdjf.mp3'}];return}
            const shuffled=[...allMusic].sort(()=>Math.random()-0.5);
            for(let i=0;i<shuffled.length;i++){
                currentPlaylist.push({type:'music',title:shuffled[i].name||'M√∫sica',artist:'Supermercado do Louro',url:shuffled[i].url});
                if((i+1)%3===0&&audioFiles.time.length>0){const timeFile=audioFiles.time[Math.floor(Math.random()*audioFiles.time.length)];currentPlaylist.push({type:'time',title:'Hora Certa',artist:'Informativo',url:timeFile.url})}
                if((i+1)%6===0&&audioFiles.ads.length>0){const adFile=audioFiles.ads[Math.floor(Math.random()*audioFiles.ads.length)];currentPlaylist.push({type:'ads',title:'Aviso Importante',artist:'Administra√ß√£o',url:adFile.url})}
            }
        }

        function togglePlayPause(){
            if(isPlaying){audioPlayer.pause();playBtn.textContent='‚ñ∂Ô∏è';isPlaying=false}else{if(currentPlaylist.length===0)generatePlaylist();if(currentIndex>=currentPlaylist.length)currentIndex=0;playCurrentTrack()}
        }

        function playCurrentTrack(){
            if(currentPlaylist.length===0)return;
            const track=currentPlaylist[currentIndex];
            audioPlayer.src=track.url;
            audioPlayer.play().then(()=>{isPlaying=true;playBtn.textContent='‚è∏Ô∏è';updateUI();updatePlayStats(track)}).catch(e=>{console.log('Erro:',e);nextTrack()})
        }

        function nextTrack(){currentIndex++;if(currentIndex>=currentPlaylist.length){generatePlaylist();currentIndex=0}playCurrentTrack()}

        function updateUI(){
            if(currentPlaylist.length===0)return;
            const track=currentPlaylist[currentIndex];
            trackTitle.textContent=track.title;trackArtist.textContent=track.artist;
            if(track.type==='time'){albumCover.style.background='linear-gradient(135deg,#ff6f00,#ff8f00,#ffa000)';albumCover.textContent='üïê'}
            else if(track.type==='ads'){albumCover.style.background='linear-gradient(135deg,#c62828,#d32f2f,#f44336)';albumCover.textContent='üì¢'}
            else{albumCover.style.background='linear-gradient(135deg,#1b5e20,#2e7d32,#43a047)';albumCover.textContent='üéµ'}
        }

        function updateAlbumDisplay(){document.querySelectorAll('.album-item').forEach(item=>{item.classList.remove('active');if(item.dataset.album===activeAlbum)item.classList.add('active')})}

        function updatePlayStats(track){
            if(track&&track.type==='music'){const key=track.title+' - '+track.artist;playStats[key]=(playStats[key]||0)+1;localStorage.setItem('playStats',JSON.stringify(playStats));updatePlayStatsDisplay()}
        }

        function updatePlayStatsDisplay(){
            const statsContainer=document.getElementById('playStats');if(!statsContainer)return;statsContainer.innerHTML='';
            Object.entries(playStats).sort(([,a],[,b])=>b-a).slice(0,10).forEach(([track,count])=>{
                const statItem=document.createElement('div');statItem.className='stat-item';statItem.innerHTML=`<span>${track}</span><span>${count}x</span>`;statsContainer.appendChild(statItem)
            })
        }

        function resetStats(){if(confirm('Resetar todas as estat√≠sticas?')){playStats={};localStorage.removeItem('playStats');updatePlayStatsDisplay()}}

        function toggleAdmin(){document.getElementById('adminPanel').style.display='block'}
        function closeAdmin(){document.getElementById('adminPanel').style.display='none'}
        function adminLogin(){if(document.getElementById('adminPassword').value==='admin123'){document.getElementById('loginForm').style.display='none';document.getElementById('adminContent').style.display='block';updateFileList();updatePlayStatsDisplay()}else alert('Senha incorreta!')}

        function setActiveAlbum(album){activeAlbum=album;localStorage.setItem('activeAlbum',album);updateAlbumDisplay();generatePlaylist()}

        function uploadFiles(type){
            const fileInput=document.getElementById(type+'Upload'),files=fileInput.files;
            if(files.length===0){alert('Selecione arquivos');return}
            Array.from(files).forEach(file=>{const fileObj={name:file.name,url:URL.createObjectURL(file),uploadDate:new Date().toISOString()};audioFiles[type].push(fileObj)});
            localStorage.setItem(type+'Files',JSON.stringify(audioFiles[type]));updateFileList();generatePlaylist();fileInput.value='';alert('Arquivos enviados com sucesso!')
        }

        function uploadAlbumFiles(){
            if(activeAlbum==='none'){alert('Selecione um √°lbum primeiro');return}
            const fileInput=document.getElementById('albumUpload'),files=fileInput.files;
            if(files.length===0){alert('Selecione arquivos');return}
            Array.from(files).forEach(file=>{const fileObj={name:file.name,url:URL.createObjectURL(file),uploadDate:new Date().toISOString()};audioFiles.albums[activeAlbum].push(fileObj)});
            localStorage.setItem(activeAlbum+'Files',JSON.stringify(audioFiles.albums[activeAlbum]));updateFileList();generatePlaylist();fileInput.value='';alert('Arquivos do √°lbum enviados!')
        }

        function updateFileList(){
            updateSingleFileList('music','musicList');updateSingleFileList('time','timeList');updateSingleFileList('ads','adsList');
            if(activeAlbum!=='none')updateAlbumFileList()
        }

        function updateSingleFileList(type,containerId){
            const container=document.getElementById(containerId);if(!container)return;container.innerHTML='';
            audioFiles[type].forEach((file,index)=>{const fileItem=document.createElement('div');fileItem.className='file-item';fileItem.innerHTML=`<span>${file.name}</span><button class="delete-btn" onclick="deleteFile('${type}',${index})">üóëÔ∏è</button>`;container.appendChild(fileItem)})
        }

        function updateAlbumFileList(){
            const container=document.getElementById('albumList');if(!container)return;container.innerHTML='';
            if(activeAlbum==='none')return;
            audioFiles.albums[activeAlbum].forEach((file,index)=>{const fileItem=document.createElement('div');fileItem.className='file-item';fileItem.innerHTML=`<span>${file.name}</span><button class="delete-btn" onclick="deleteAlbumFile(${index})">üóëÔ∏è</button>`;container.appendChild(fileItem)})
        }

        function deleteFile(type,index){
            if(confirm('Tem certeza que deseja excluir este arquivo?')){audioFiles[type].splice(index,1);localStorage.setItem(type+'Files',JSON.stringify(audioFiles[type]));updateFileList();generatePlaylist()}
        }

        function deleteAlbumFile(index){
            if(confirm('Tem certeza que deseja excluir este arquivo?')){audioFiles.albums[activeAlbum].splice(index,1);localStorage.setItem(activeAlbum+'Files',JSON.stringify(audioFiles.albums[activeAlbum]));updateFileList();generatePlaylist()}
        }

        function exportConfig(){
            const config={audioFiles,activeAlbum,playStats,timestamp:new Date().toISOString()};
            const dataStr=JSON.stringify(config,null,2),dataBlob=new Blob([dataStr],{type:'application/json'}),link=document.createElement('a');
            link.href=URL.createObjectURL(dataBlob);link.download=`radio_config_backup_${new Date().toISOString().split('T')[0]}.json`;link.click();alert('Backup exportado com sucesso!')
        }

        function importConfig(event){
            const file=event.target.files[0];if(!file)return;
